<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FoodExpress - Account</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans min-h-screen">

  <div class="max-w-sm mx-auto p-4 mt-10" id="app">
    <!-- Content will be inserted here -->
  </div>

  <script>
    const app = document.getElementById("app");

    function renderLogin() {
      app.innerHTML = `
        <h2 class="text-2xl font-bold text-center mb-6">👤 Login or Sign Up</h2>
        <div class="bg-white shadow rounded-lg p-4">
          <input type="text" id="name" placeholder="Your Name" class="w-full p-2 border rounded mb-3">
          <input type="email" id="email" placeholder="Email Address" class="w-full p-2 border rounded mb-3">
          <button onclick="login()" class="w-full py-2 bg-orange-500 text-white rounded hover:bg-orange-600">
            🚪 Continue
          </button>
        </div>
      `;
    }

    function renderProfile(user) {
      app.innerHTML = `
        <h2 class="text-2xl font-bold text-center mb-6">👤 My Account</h2>
        <div class="bg-white shadow rounded-lg text-center p-4">
          <img src="https://i.pravatar.cc/100?u=${user.email}" class="w-24 h-24 mx-auto rounded-full mb-2">
          <h3 class="text-lg font-semibold">${user.name}</h3>
          <p class="text-sm text-gray-500">${user.email}</p>
        </div>

        <div class="mt-6 space-y-3">
          <button class="w-full py-2 bg-orange-500 text-white rounded hover:bg-orange-600">
            📦 Order History
          </button>
          <button class="w-full py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300" onclick="editProfile()">
            ✏️ Edit Profile
          </button>
          <button class="w-full py-2 bg-red-500 text-white rounded hover:bg-red-600" onclick="logout()">
            🚪 Log Out
          </button>
        </div>
      `;
    }

    function login() {
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      if (!name || !email) return alert("Please fill in both fields");

      const user = { name, email };
      localStorage.setItem("user", JSON.stringify(user));
      renderProfile(user);
    }

    function logout() {
      localStorage.removeItem("user");
      renderLogin();
    }

    function editProfile() {
      const user = JSON.parse(localStorage.getItem("user"));
      app.innerHTML = `
        <h2 class="text-2xl font-bold text-center mb-6">✏️ Edit Profile</h2>
        <div class="bg-white shadow rounded-lg p-4">
          <input type="text" id="name" value="${user.name}" class="w-full p-2 border rounded mb-3">
          <input type="email" id="email" value="${user.email}" class="w-full p-2 border rounded mb-3">
          <button onclick="login()" class="w-full py-2 bg-orange-500 text-white rounded hover:bg-orange-600">
            💾 Save
          </button>
        </div>
      `;
    }

    // Load session
    const user = JSON.parse(localStorage.getItem("user"));
    if (user) renderProfile(user);
    else renderLogin();
  </script>
</body>
</html>
