<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Food Express</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-gray-50 relative">

  <!-- Top-left Swiggy-style Location -->
  <div id="locationButton" class="location-container">
    <svg class="w-6 h-6 text-orange-500" viewBox="0 0 24 24" fill="currentColor">
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z" />
    </svg>

    <div class="loc-text-block">
      <span class="loc-delivering">Delivering to</span>
      <span id="locationText" class="loc-city">Detecting...</span>
    </div>

    <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2"
      viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </div>

  <!--  Search Bar -->
<div class="px-4 mt-4">
  <div class="relative">
    <input
      id="searchBox"
      type="text"
      placeholder="Search for restaurants, food or locations"
      class="w-full bg-[#F0F0F5] py-3 pl-12 pr-4 
             rounded-xl text-[15px] text-gray-700 
             placeholder-gray-500
             focus:outline-none focus:ring-2 focus:ring-orange-500
             transition-all duration-300"
    />

    <!-- Search Icon (Swiggy Style) -->
    <svg class="w-5 h-5 text-gray-600 absolute left-4 top-1/2 -translate-y-1/2"
         viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="7"></circle>
      <line x1="16.5" y1="16.5" x2="21" y2="21"></line>
    </svg>
  </div>
</div>

<!-- SLIDE-IN LOCATION PAGE -->
<iframe id="locationPanel"
        src="location.html"
        class="fixed top-0 right-0 w-full max-w-md h-full bg-white shadow-xl
               translate-x-full transition-transform duration-500 z-50">
</iframe>

<!-- Overlay -->
<div id="overlay"
     class="fixed inset-0 bg-black bg-opacity-40 opacity-0 pointer-events-none
            transition-opacity duration-500 z-40"></div>



<script>
window.addEventListener("message", (e) => {
  if (e.data === "redirectToHome") {

    // Prevent double triggers
    if (window.__alreadyRedirecting) return;
    window.__alreadyRedirecting = true;

    window.location.href = "index.html";
  }
});
</script>


  <script src="script.js"></script>
</body>
</html>
