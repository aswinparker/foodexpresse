<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Food Express</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="style.css" />
   
</head>


<body class="bg-gray-50 relative">



  <!-- Top-left Swiggy-style Location -->
  <div id="locationButton" class="location-container">
    <svg class="w-6 h-6 text-orange-500" viewBox="0 0 24 24" fill="currentColor">
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z" />
    </svg>

    <div class="loc-text-block">
      <span class="loc-delivering">Delivering to</span>
      <span id="locationText" class="loc-city">Detecting...</span>
    </div>

    <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor"
      stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </div>

<!-- SEARCH BAR (BIG VERSION) -->
<div class="px-4 mt-5">
  <div class="relative">
    <input
      id="searchBox"
      type="text"
      placeholder="Search for restaurants, food or locations"
      class="w-full bg-[#F0F0F5] py-4 pl-14 pr-5
             rounded-2xl text-[17px] text-gray-800 font-medium
             placeholder-gray-500
             shadow-sm
             focus:outline-none focus:ring-2 focus:ring-orange-500
             transition-all duration-300"
    />

    <!-- Bigger Search Icon -->
    <svg class="w-6 h-6 text-gray-700 absolute left-5 top-1/2 -translate-y-1/2"
         viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="7"></circle>
      <line x1="16.5" y1="16.5" x2="21" y2="21"></line>
    </svg>
  </div>
</div>

<!-- FOOD CATEGORIES (Dynamic Swiggy-style) -->
<div class="px-4 mt-6">
  <h2 class="text-gray-700 font-semibold text-lg mb-3">Popular Categories</h2>

  <div id="categoriesContainer" class="flex space-x-4 overflow-x-auto scrollbar-hide">
    <!-- Dynamic categories will be injected here -->
  </div>
</div>

<!-- Hide scrollbar for better UI -->
<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<!-- FOOD CATEGORIES (Interactive Swiggy-style) -->
<div class="px-4 mt-6">
  <h2 class="text-gray-700 font-semibold text-lg mb-3"></h2>

  <div id="categoriesContainer" class="flex space-x-4 overflow-x-auto scrollbar-hide">
    <!-- Dynamic categories injected here -->
  </div>
</div>

<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<script>
  // Real food categories with images (Swiggy-style)
  const categories = [
    { name: "idly", img: "img/idly.png" },
    { name: "samosa", img: "img/samosa.png" },
    { name: "tea", img: "img/tea.png" },
    { name: "parotta", img: "img/parotta.png" },
    { name: "panner butter", img: "img/panner-butter.png" },
    { name: "Chicken biriyani", img: "img/chicken-biriyani.png" },
    { name: "coffe", img: "img/coffe.png" },
    { name: "Boori", img: "img/boori.png" },
    { name: "chappati", img: "img/chappati.png" },
    { name: "idiyappam", img: "img/idiyappam.png" }
  ];

  const container = document.getElementById("categoriesContainer");

  categories.forEach(cat => {
    const div = document.createElement("div");
    div.className = `
      flex flex-col items-center min-w-[80px] cursor-pointer
      transform transition-transform duration-300 hover:scale-110
    `;

    div.innerHTML = `
      <div class="w-20 h-20 mb-2 overflow-hidden rounded-full border border-gray-200 shadow-sm hover:shadow-lg transition-shadow duration-300">
        <img src="${cat.img}" alt="${cat.name}" class="w-full h-full object-cover" />
      </div>
      <span class="text-sm text-gray-700 font-medium text-center">${cat.name}</span>
    `;

    container.appendChild(div);
  });
</script>







  <!-- SLIDE PANEL -->
  <iframe id="locationPanel"
          src="location.html"
          class="fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-xl
                 translate-x-full transition-transform duration-400 z-50">
  </iframe>

  <div id="overlay"
        class="fixed inset-0 bg-black bg-opacity-40 opacity-0 
              pointer-events-none transition-opacity duration-300 z-40"></div>


<script>
window.addEventListener("load", () => {
  const loc = localStorage.getItem("userLocation") || "Select Location";
  document.getElementById("locationText").textContent = loc;
});
</script>



<script>
document.addEventListener("DOMContentLoaded", () => {
  const locationText = document.getElementById("locationText");

  // Location shimmer effect
  locationText.classList.add("shimmer");
  locationText.textContent = "Detecting...";
  const savedLoc = localStorage.getItem("userLocation");
  if (savedLoc) {
    setTimeout(() => {
      locationText.classList.remove("shimmer");
      locationText.textContent = savedLoc;
    }, 300);
  }
});
</script>




<script>
window.addEventListener("message", (event) => {
  const data = event.data;
  if (!data) return;

  // ✅ Live location update (NO REFRESH)
  if (data.action === "updateTopLocation") {
    const locationText = document.getElementById("locationText");
    if (locationText) {
      locationText.textContent = data.location;
    }

    localStorage.setItem("userLocation", data.location);
  }

  // ✅ Close location panel
  if (data === "closeLocationPanel" || data.action === "closeLocationPanel") {
    closeLocationPanel();
  }
});
</script>








<script src="script.js"></script>
</body>
</html>
